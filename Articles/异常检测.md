# 应用

离群点挖掘的目的是有效的识别出数据集中的异常数据，并且挖掘出数据集中有意义的潜在信息。出现离群点的原因各有不同，其中主要有以下几种情况：

- 数据来源于异类：如欺诈、入侵、疾病爆发、不同寻常的实验结果等。这类离群点的产生机制偏离正常轨道，往往是被关注的重点
- 数据变量固有的变化：自然、周期发生等反映数据集的分布特征，如气候的突然变化、顾客新型购买模式、基因突变等
- 数据测最或收集误差：主要是系统误差、人为的数据读取偏差、测量设备出现故障或“噪音”干扰
- 随机或人为误差：主要原因是实验平台存在随机机制，同时人为在数据录入等过程中可能出现的误差



难点：

现实生活中的数据往往具有成百上千的维度，并且数据量极大，这无疑给目前现有的离群点检测方法带来大难题。传统的离群点检测方法虽然在各自特定的应用领域里表现出很好效果，但在高维大数据集中却不再适用。因此如何把离群点检测方法有效地应用于大数据、高维度数据，是目前离群点检测方法的首要目标之一。





# 思想方法



![img](D:\Code-Resources\Articles\assets\v2-270f9bfbd9bb2fd435e0eca026fdaba8_hd.jpg)



异常检测方法，针对不同的数据形式，有不同的实现方法。

基于分布的方法，在上、下α分位点之外的值认为是异常值，对于属性值常用此类方法。

![1550801633412](D:\Code-Resources\Articles\assets\1550801633412.png)



基于距离的方法，适用于二维或高维坐标体系内异常点的判别，例如二维平面坐标或经纬度空间坐标下异常点识别。

基于距离的异常检测算法，局部异常因子LOF算法（Local Outlier Factor）。 
　　用视觉直观的感受一下，如图2，对于C1集合的点，整体间距，密度，分散情况较为均匀一致，可以认为是同一簇；对于C2集合的点，同样可认为是一簇。o1、o2点相对孤立，可以认为是异常点或离散点。现在的问题是，如何实现算法的通用性，可以满足C1和C2这种密度分散情况迥异的集合的异常点识别。LOF可以实现我们的目标。 

![1550801885252](D:\Code-Resources\Articles\assets\1550801885252.png)





# 算法

## 孤立森林

**算法优缺点：**

1）通常树的数量越多，算法越稳定

2）iForest不适用于特别高维的数据，由于每次切数据空间都是随机选取一个维度，建完树后仍然有大量的维度信息没有被使用，导致算法可靠性降低



# PYOD

## 模型

离群点检测的线性模型:


(PCA:主成分分析采用特征向量超平面加权投影距离之和作为离群值得分)

最小协方差行列式(使用马氏距离作为离群值得分)

OCSVM:一类支持向量机

基于近似值的离群点检测模型:


LOF:局部离群因子

CBLOF:基于集群的局部离群因子

kNN: k个最近的邻居(以距离第k个最近的邻居的距离作为离群值)

中值kNN离群值检测(使用到k个最近邻居的中值距离作为离群值得分)

HBOS:基于直方图的离群值

离群点检测的概率模型:


基于角度的离群点检测

异常集和组合框架


与世隔绝的森林

功能装袋

LSCP



# 无监督学习

## Local Outlier Factor-局部异常因子算法

==算法思想：==

​       针对给定的数据集，对其中的任意一个数据点，如果在其局部邻域内的点都很密集，那么认为此数据点为正常数据点，而离群点则是距离正常数据点最近邻的点都比较远的数据点。通常有阈值进行界定距离的远近。在基于密度的离群点检测方法中，最具有代表性的方法是局部离群因子检测方法 (Local Outlier Factor, LOF)。



局部异常因子，是遵循预先指定的规则（偏离大部分正常值的数据被认为异常值），寻找异常值的无监督方法。所以，如果事先指定的规则与我们的期望不相符，就不能找到正确的异常值。虽然通过改变近邻数k的值也可以在某种程度上对异常检测做出调整。==但是对于无监督学习而言，由于通常不会给定有关异常值得任何信息，所以近邻数k的取值一直是一个非常难得的问题。==另外，为了寻找k近邻样本，需要计算所有n个训练样本间的距离并进行分组，当n非常大的时候，计算负荷也会相应的增加，这也是我们必须考虑的问题。



![1551236544865](D:\Code-Resources\Articles\assets\1551236544865.png)



![k](D:\Code-Resources\Articles\assets\equation.svg) **距离**

![1551237332602](D:\Code-Resources\Articles\assets\1551237332602.png)



![1551237555252](D:\Code-Resources\Articles\assets\1551237555252.png)



![1551237798819](D:\Code-Resources\Articles\assets\1551237798819.png)



![1551238017805](D:\Code-Resources\Articles\assets\1551238017805.png)



![1551238251385](D:\Code-Resources\Articles\assets\1551238251385.png)



